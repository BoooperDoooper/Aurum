<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Customize Your Bonbon - Step 3 | Aurum</title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: { primary: "#D4AF37", secondary: "#000000" },
            borderRadius: {
              none: "0px",
              sm: "4px",
              DEFAULT: "8px",
              md: "12px",
              lg: "16px",
              xl: "20px",
              "2xl": "24px",
              "3xl": "32px",
              full: "9999px",
              button: "8px",
            },
          },
        },
      };
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Pacifico&family=Playfair+Display:wght@400;500;600;700&family=Montserrat:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css"
      rel="stylesheet"
    />
    <style>
      :where([class^="ri-"])::before { content: "\f3c2"; }
      body {
        font-family: 'Montserrat', sans-serif;
      }
      h1, h2, h3, h4, h5, h6 {
        font-family: 'Playfair Display', serif;
      }
      .logo {
        font-family: 'Pacifico', serif;
      }
      .custom-radio {
        appearance: none;
        width: 20px;
        height: 20px;
        border: 2px solid #D4AF37;
        border-radius: 50%;
        background-color: transparent;
        display: inline-block;
        position: relative;
        cursor: pointer;
      }
      .custom-radio:checked {
        border-color: #D4AF37;
      }
      .custom-radio:checked::after {
        content: '';
        position: absolute;
        left: 3px;
        top: 3px;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background-color: #D4AF37;
      }
      .package-card.selected {
        border-color: #D4AF37;
        background-color: rgba(212, 175, 55, 0.05);
      }
      input[type="number"]::-webkit-inner-spin-button,
      input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
    </style>
  </head>
  <body class="bg-white">
    <!-- Header -->
    <header class="bg-secondary text-white py-4 fixed w-full z-50 shadow-md">
      <div class="container mx-auto px-6 flex items-center justify-between">
        <a href="index.html" class="logo text-primary text-3xl">Aurum</a>
        <div class="flex items-center space-x-6">
          <div
            class="w-6 h-6 flex items-center justify-center text-primary cursor-pointer"
          >
            <i class="ri-shopping-bag-line ri-lg"></i>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="pt-24 pb-16">
      <div class="container mx-auto px-6">
        <!-- Progress Steps -->
        <div class="flex items-center justify-center mb-12">
          <div class="flex items-center">
            <div
              class="w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center"
            >
              1
            </div>
            <div class="h-1 w-16 bg-primary"></div>
            <div
              class="w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center"
            >
              2
            </div>
            <div class="h-1 w-16 bg-primary"></div>
            <div
              class="w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center"
            >
              3
            </div>
          </div>
        </div>

        <div class="max-w-4xl mx-auto">
          <h1 class="text-3xl md:text-4xl font-bold text-center mb-4">
            Choose Your Packaging
          </h1>
          <p class="text-gray-600 text-center mb-12">
            Select a luxurious box for your custom bonbons
          </p>

          <!-- Packaging Section -->
          <section class="mb-12">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
              <!-- Package 1 -->
              <div
                class="package-card border border-gray-200 rounded-lg p-6 cursor-pointer hover:border-primary transition-colors"
              >
                <div class="flex items-start mb-4">
                  <input
                    type="radio"
                    class="custom-radio mt-1"
                    name="package"
                  />
                  <div class="ml-3 flex-1">
                    <h3 class="font-semibold">Classic Gold Box</h3>
                    <p class="text-sm text-gray-600 mb-4">
                      Elegant gold-foiled box with ribbon
                    </p>
                    <div class="flex justify-between items-center">
                      <span class="text-lg font-semibold">$8.00</span>
                      <span class="text-sm text-gray-500"
                        >Fits 6-12 pieces</span
                      >
                    </div>
                  </div>
                </div>
                <img
                  src="https://readdy.ai/api/search-image?query=luxury%20gold%20gift%20box%20with%20silk%20ribbon%20on%20dark%20marble%20background%2C%20professional%20product%20photography%20with%20dramatic%20lighting%2C%20elegant%20packaging%20design%2C%20high-end%20presentation&width=400&height=300&seq=201&orientation=landscape"
                  alt="Classic Gold Box"
                  class="w-full h-48 object-cover rounded"
                />
              </div>

              <!-- Package 2 -->
              <div
                class="package-card border border-gray-200 rounded-lg p-6 cursor-pointer hover:border-primary transition-colors"
              >
                <div class="flex items-start mb-4">
                  <input
                    type="radio"
                    class="custom-radio mt-1"
                    name="package"
                  />
                  <div class="ml-3 flex-1">
                    <h3 class="font-semibold">Premium Collection Box</h3>
                    <p class="text-sm text-gray-600 mb-4">
                      Leather-textured box with gold details
                    </p>
                    <div class="flex justify-between items-center">
                      <span class="text-lg font-semibold">$12.00</span>
                      <span class="text-sm text-gray-500"
                        >Fits 12-24 pieces</span
                      >
                    </div>
                  </div>
                </div>
                <img
                  src="https://readdy.ai/api/search-image?query=luxury%20black%20leather%20textured%20gift%20box%20with%20gold%20embossing%20on%20dark%20marble%20background%2C%20professional%20product%20photography%20with%20dramatic%20lighting%2C%20premium%20packaging%20design%2C%20high-end%20presentation&width=400&height=300&seq=202&orientation=landscape"
                  alt="Premium Collection Box"
                  class="w-full h-48 object-cover rounded"
                />
              </div>
            </div>
          </section>

          <!-- Quantity Section -->
          <section class="mb-12">
            <h2 class="text-2xl font-semibold mb-6">Select Quantity</h2>
            <div class="flex items-center justify-center space-x-4">
              <button
                class="w-10 h-10 rounded-full border border-gray-300 flex items-center justify-center hover:border-primary transition-colors"
                id="decreaseQuantity"
              >
                <i class="ri-subtract-line"></i>
              </button>
              <input
                type="number"
                id="quantity"
                value="6"
                min="6"
                max="24"
                step="6"
                class="w-20 text-center text-xl font-semibold border-none focus:outline-none"
              />
              <button
                class="w-10 h-10 rounded-full border border-gray-300 flex items-center justify-center hover:border-primary transition-colors"
                id="increaseQuantity"
              >
                <i class="ri-add-line"></i>
              </button>
            </div>
            <p class="text-center text-gray-500 mt-2">
              Minimum 6 pieces, in multiples of 6
            </p>
          </section>
          <!-- Price Summary -->
          <section class="bg-gray-50 rounded-lg p-6 mb-12">
            <h2 class="text-xl font-semibold mb-4">Order Summary</h2>
            <div class="space-y-3">
              <div class="flex justify-between">
                <span class="text-gray-600">Bonbons (6 pieces)</span>
                <span class="font-semibold">$24.00</span>
              </div>
              <div class="flex justify-between">
                <span class="text-gray-600">Packaging</span>
                <span class="font-semibold">$8.00</span>
              </div>
              <div class="border-t border-gray-200 pt-3 flex justify-between">
                <span class="text-lg font-semibold">Total</span>
                <span class="text-lg font-semibold text-primary">$32.00</span>
              </div>
            </div>
          </section>

          <!-- Navigation Buttons -->
          <div class="flex justify-between items-center">
            <a
              href="customize-step2.html"
              class="flex items-center text-secondary hover:text-primary transition-colors"
            >
              <i class="ri-arrow-left-line mr-2"></i>
              Back
            </a>
            <button
              class="bg-primary text-white py-3 px-8 rounded-button hover:bg-primary/90 transition-colors !rounded-button whitespace-nowrap"
              id="addToCart"
            >
              Add to Cart
              <i class="ri-shopping-cart-line ml-2"></i>
            </button>
          </div>
        </div>
      </div>
    </main>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const packageCards = document.querySelectorAll(".package-card");
        const packageRadios = document.querySelectorAll('input[name="package"]');
        const quantityInput = document.getElementById("quantity");
        const decreaseBtn = document.getElementById("decreaseQuantity");
        const increaseBtn = document.getElementById("increaseQuantity");
        const addToCartBtn = document.getElementById("addToCart");

        packageCards.forEach((card, index) => {
          card.addEventListener("click", () => {
            packageCards.forEach((c) => c.classList.remove("selected"));
            packageRadios.forEach((r) => (r.checked = false));

            packageRadios[index].checked = true;
            card.classList.add("selected");
            updateTotal();
          });
        });

        function updateQuantity(value) {
          let newValue = Math.max(6, Math.min(24, value));
          newValue = Math.round(newValue / 6) * 6;
          quantityInput.value = newValue;
          updateTotal();
        }

        decreaseBtn.addEventListener("click", () => {
          updateQuantity(parseInt(quantityInput.value) - 6);
        });

        increaseBtn.addEventListener("click", () => {
          updateQuantity(parseInt(quantityInput.value) + 6);
        });

        quantityInput.addEventListener("change", () => {
          updateQuantity(parseInt(quantityInput.value));
        });

        function updateTotal() {
          const quantity = parseInt(quantityInput.value);
          const bonbonPrice = quantity * 4;
          const packagingPrice = packageRadios[1].checked ? 12 : 8;
          const total = bonbonPrice + packagingPrice;

          document.querySelector(".space-y-3").innerHTML = `
            <div class="flex justify-between">
              <span class="text-gray-600">Bonbons (${quantity} pieces)</span>
              <span class="font-semibold">$${bonbonPrice.toFixed(2)}</span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-600">Packaging</span>
              <span class="font-semibold">$${packagingPrice.toFixed(2)}</span>
            </div>
            <div class="border-t border-gray-200 pt-3 flex justify-between">
              <span class="text-lg font-semibold">Total</span>
              <span class="text-lg font-semibold text-primary">$${total.toFixed(2)}</span>
            </div>
          `;
        }

        addToCartBtn.addEventListener("click", () => {
          if (!Array.from(packageRadios).some((radio) => radio.checked)) {
            alert("Please select a package type");
            return;
          }
          const quantity = parseInt(quantityInput.value);
          const packageType = packageRadios[1].checked
            ? "Premium Collection Box"
            : "Classic Gold Box";

          const cartItem = {
            quantity: quantity,
            package: packageType,
            total: parseFloat(
              document.querySelector(".text-primary").textContent.replace("$", ""),
            ),
          };

          console.log("Added to cart:", cartItem);
          window.location.href = "cart.html";
        });
      });
    </script>
  </body>
</html>
